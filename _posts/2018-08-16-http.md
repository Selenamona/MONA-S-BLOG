---
layout:     post
title:      用 Node 搭建本地服务器
summary: 
categories: Js
technique: true
---

超文本传输协议（HTTP，HyperText Transfer Protocol)

<img src="https://raw.githubusercontent.com/Selenamona/Selenamona.github.io/master/assets/images/http.jpg" width="700"/>

var url = require("url")   //用于url处理和解析
var querystring = require("querystring")   //用于解析与格式化URL查询字符串

var urlObj = url.parse(request.url) => 使用url.parse格式化request.url得到url对象
var urlObj = url.parse(request.url,true)=>深度格式化，query会以对象形式呈现

## | http 服务器

创建一个网络服务对象：   
http.createServer(function(request,response){ }).listen(端口号)  

响应：    
response.write()   
response.end()  

文件的读写：      
fs.writeFile("url",function(err,data){})    
fs.readFile("url","写入的内容"，function(err){})

```javascript
// server.js
var http = require('http');//引入 http 模块
//创建 http server，并传入回调函数:
var server = http.createServer(function(req,res){
    /* req 用来接受客户端数据 res 用来向客户端发送服务器数据 */ 
    console.log(req.method + "" + req.url);//获取 http 请求的 method 和 url
    //将HTTP响应200写入response，连接成功后向客户端写入头信息 
    res.writeHeader(200,{ 
        'content-type' : 'text/html;charset="utf-8"'
    });
    res.write('这是正文部分');//显示给客户端
    res.end();
}).listen(7777); // 监听端口号
console.log('Server is running at http://127.0.0.1:7777/');
```

命令行下运行程序：`node server.js`，执行结果如下：

```
Server is running at http://127.0.0.1:7777/
GET/
GET/favicon.ico
```
 