---
layout:     post
title:      JS 黑科技
# summary: 为博客添加 Gitalk 评论插件
categories: Js
---


### 评级组件

`"★★★★★☆☆☆☆☆".slice(5 - rate, 10 - rate)`

rate : 1~5 ; 当 rate 为1，一颗星，当 rate 为2，两颗星，以此类推。

> 参考：[有哪些短小却令人惊叹的 JavaScript 代码？](https://www.zhihu.com/question/46943112/answer/113583615)

### 随机取字符串

```javascript
Math.random().toString(16).substring(2)   // "83c8811d44a5a"
Math.random().toString(36).substring(2)   // "tj2tqwrfahe"
```
### 匿名函数写法

```javascript
( function() {}() );
( function() {} )();
[ function() {}() ];

~ function() {}();
! function() {}();
+ function() {}();
- function() {}();

delete function() {}();
typeof function() {}();
void function() {}();
new function() {}();
new function() {};

var f = function() {}();

1, function() {}();
1 ^ function() {}();
1 > function() {}();
```

> 参考：[这些JavaScript编程黑科技，装逼指南，高逼格代码，让你惊叹不已](https://github.com/jawil/blog/issues/24)

### 金钱格式化

```javascript
// 用正则魔法实现：
var test1 = '1234567890'
var format = test1.replace(/\B(?=(\d{3})+(?!\d))/g, ',')

console.log(format) // 1,234,567,890

// 非正则的优雅实现：
 function formatCash(str) {
       return str.split('').reverse().reduce((prev, next, index) => {
            return ((index % 3) ? next : (next + ',')) + prev
       })
}
console.log(formatCash('1234567890')) // 1,234,567,890
```

### 最短代码


- 最短代码实现数组去重 

    `[...new Set([1, "1", 2, 1, 1, 3])]`

- 用最短的代码实现一个长度为m(6)且值都n(8)的数组

    `Array(6).fill(8)`

- 取出一个数组中的最大值和最小值

    `var numbers = [5, 458 , 120 , -215 , 228 , 400 , 122205, -85411]; `   
    `var maxInNumbers = Math.max.apply(Math, numbers); `  
    `var minInNumbers = Math.min.apply(Math, numbers);`   

### 浏览器运行JS


- 地址栏输入以下代码然后回车运行，会出现指定的页面内容

    `data:text/html,<h1>Hello, world!</h1>`

- 浏览器当编辑器

    `data:text/html, <html contenteditable>`

> 参考：[前端不为人知的一面——前端冷知识集锦](https://mp.weixin.qq.com/s/uIQ0krEgYQtcyRKdni391g)

### 获取指定范围内的随机整数

```javascript
function getRadomNum(min,max){
  return  Math.floor(Math.random() * (max - min + 1)) + min;
}
```

> 参考：[几个js开发过程中的小技巧](https://qianlongo.github.io/2016/03/26/%E5%87%A0%E4%B8%AAjs%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E5%B0%8F%E6%8A%80%E5%B7%A7/#more)

### 打乱数字数组的顺序

```javascript
var arr = [1,2,3,4,5,6,7,'a','dsfs',8,9,'v'];
arr.sort(function(){return Math.random()-0.5});
```

### 验证是否为数组

```javascript
function isArray(obj){
    return  Object.prototype.toString.call(obj) === '[object Array]' ;
}
```

### js奇淫技巧

`(10)["toString"]() === "10"`  => true

> 参考：[js奇淫技巧1](http://qylanikin.lofter.com/post/1cbb3f55_cc787c9)

### 学点JavaScript

```javascript
[].forEach.call($$("*"),function(a){
    a.style.outline="1px solid #"+(~~(Math.random()*(1<<24))).toString(16)
})

//翻译后
Array.prototype.forEach.call(document.querySelectorAll('*'), 
dom => dom.style.outline = `1px solid #${parseInt(Math.random() * 
Math.pow(2,24)).toString(16)}`)
```

> 参考：[从一行代码里面学点JavaScript](https://sdk.cn/news/3025)


### nb / sb

`(!(~+[])+{})[--[~+""][+[]]*[~+[]] + ~~!+[]]+({}+[])[[~!+[]]*~+[]]`  => sb  

`([][[]]+[])[+!![]]+([]+{})[!+[]+!![]]` => nb

> 参考：[一行能装逼的JavaScript代码](http://www.jfh.com/jfperiodical/article/3224)



### MORE

***************************************** 

[总结 js 常用函数和常用技巧（持续更新）](https://juejin.im/entry/57ff58772e958a0055b0753a)

[JavaScript专业八级测试，你能做对几道？](http://ourjs.com/detail/52fb82e13bd19c4814000001)

[你所不知道的快速排序（js实现）](https://juejin.im/post/5966f57051882568b20dc3e1)

[200多个js技巧代码](http://www.cnblogs.com/ranzige/p/4211542.html)

